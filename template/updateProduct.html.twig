{% extends "layout.html.twig" %}

{% block title %}Update Product{% endblock %}

{% block content %}

<form action="{{ page }}" method="POST" class="container">

    <h1>Modifier un produit</h1>

    {% if form.state == 'success' %}
    <p style="color: green;">{{form.message}}</p>
    {% endif %}
    {% if form.state == 'danger' %}
    <p style="color: red;">{{form.message}}</p>
    {% endif %}

    {% if form.state != 'non-existent' %}

    <div class="mb-3">
        <label for="productLabel" class="form-label">Libellé</label>
        <input type="text" class="form-control" id="productLabel" name="productLabel" value="{{ product.label }}">
    </div>

    <div class="mb-3">
        <label for="productDescription" class="form-label">Description</label>
        <textarea class="form-control" id="productDescription" name="productDescription"
            rows="3">{{ product.description }}</textarea>
    </div>

    <div class="mb-3">
        <label for="productPrice" class="form-label">Prix</label>
        <input type="number" class="form-control" id="productPrice" name="productPrice" step="0.01"
            value="{{ product.price }}">
    </div>

    <div class="mb-3">
        <select class="form-select" name="productCategory">
            {% for category in categories %}
            <option value="{{category.id}}">{{category.label}}</option>

            {% endfor %}
        </select>
    </div>

    <button type="submit" class="btn btn-primary" name="btnPostProduct">Update</button>

    {% else %}

    <div class="card bg-danger p-3" style="color: white;">
        <h2>{{form.message}} </h2>
    </div>
    <br>

    <a href="?page=home" class="btn btn-primary">Retourner à la page d'accueil</a>
    {% endif %}
</form>
{% endblock %}